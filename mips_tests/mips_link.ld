/*
 * Простой скрипт линкера для MIPS тестов.
 * Размещает код начиная с адреса 0x200.
 * По адресу 0xF8 размещает инструкцию NOP, чтобы testbench
 * мог безопасно остановить симуляцию.
 */
OUTPUT_ARCH(mips)
ENTRY(_start)

SECTIONS
{
    /* Основной код программы */
    . = 0x00000200;
    .text.init : { *(.text.init) }
    
    /* Секция данных (если нужна) */
    .data : { *(.data) }

    /* "Ловушка" по адресу выхода из симуляции */
    . = 0x000000F8;
    .text.exit : {
        /*
         * Кладём сюда MIPS NOP (sll $0, $0, 0), код 0x00000000.
         * Ваш транслятор умеет его обрабатывать, он превратится в
         * RISC-V slli x0, x0, 0.
         * Testbench увидит PC=0xF8 и остановит симуляцию. Даже если
         * ядро успеет выполнить эту инструкцию, ничего страшного
         * не произойдет, и ошибки "X state" не будет.
         */
        LONG(0x00000000)
    }
}